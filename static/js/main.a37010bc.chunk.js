(this.webpackJsonpmovie_app_2020=this.webpackJsonpmovie_app_2020||[]).push([[0],{22:function(e,t,a){e.exports=a.p+"static/media/search.3c0b25ab.svg"},23:function(e,t,a){e.exports=a.p+"static/media/home.00334dca.svg"},27:function(e,t,a){e.exports=a(41)},32:function(e,t,a){},35:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(18),s=a.n(i),l=a(19),c=a(20),m=a(26),o=a(25),u=a(9),E=a(2),d=(a(32),a(10)),v=a(3),g=a(5),p=a.n(g);a(35);function _(e){var t=e.id,a=e.title,n=e.poster,i=(e.genres,e.year),s=a.replace(/ /gi,"");return r.a.createElement(u.b,{to:{pathname:"/movie-detail/".concat(s),state:{id:t,title:a}},className:"movie_item"},r.a.createElement("div",{className:"movie_poster"},r.a.createElement("img",{src:n,alt:a,title:a})),r.a.createElement("h3",{className:"movie_title"},a),r.a.createElement("p",{className:"movie_year"},i))}_.prototype={id:p.a.number.isRequired,title:p.a.string.isRequired,poster:p.a.string.isRequired,genres:p.a.array.isRequired};var h=_;var f=function(e){var t=e.itemList,a=e.title;return r.a.createElement("div",{className:"movies"},r.a.createElement("h2",{className:"title"},r.a.createElement("span",null,a)),r.a.createElement("div",{className:"movie_list"},t.map((function(e){return r.a.createElement(h,{key:e.id,id:e.id,title:e.title,genres:e.genres,poster:e.large_cover_image,year:e.year})}))))},y=a(22),b=a.n(y),S=function(e){var t=Object(n.useState)(""),a=Object(d.a)(t,2),i=a[0],s=a[1];return r.a.createElement("form",{className:"search"},r.a.createElement("input",{value:i,onChange:function(e){s(e.target.value)},type:"text"}),r.a.createElement("button",{onClick:function(t){t.preventDefault(),""===i?alert("\uac80\uc0c9\uc5b4\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694."):e.search(i),s("")},type:"submit"},r.a.createElement("img",{src:b.a,alt:i})))};var N=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"loader"},r.a.createElement("div",{className:"loader-inner ball-spin-fade-loader"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))))},O=(a(39),{isLoading:!0,likeMovies:[],recentMovies:[],searchMovies:[],errorMessage:null}),M=function(e,t){switch(t.type){case"MOVIES_REQUEST":return Object(v.a)(Object(v.a)({},e),{},{isLoading:!0,errorMessage:null});case"MOVIE_LIKE_SUCCESS":return Object(v.a)(Object(v.a)({},e),{},{isLoading:!1,likeMovies:t.payload});case"MOVIE_RECENT_SUCCESS":return Object(v.a)(Object(v.a)({},e),{},{isLoading:!1,recentMovies:t.payload});case"MOVIE_FAILURE":return Object(v.a)(Object(v.a)({},e),{},{isLoading:!1,errorMessage:t.error});case"MOVIE_SEARCH_SUCCESS":return Object(v.a)(Object(v.a)({},e),{},{isLoading:!1,searchMovies:t.payload});default:return e}},j=function(){var e=Object(n.useReducer)(M,O),t=Object(d.a)(e,2),a=t[0],i=t[1],s=Object(n.useState)("Movie List"),l=Object(d.a)(s,2),c=l[0],m=l[1];Object(n.useEffect)((function(){fetch("https://yts.mx/api/v2/list_movies.json?sort_by=like_count&limit=10&with_rt_ratings=true").then((function(e){return e.json()})).then((function(e){i({type:"MOVIE_LIKE_SUCCESS",payload:e.data.movies})})),fetch("https://yts.mx/api/v2/list_movies.json?sort_by=year&limit=10&with_rt_ratings=true").then((function(e){return e.json()})).then((function(e){i({type:"MOVIE_RECENT_SUCCESS",payload:e.data.movies})}))}),[]);var o=a.likeMovies,u=a.recentMovies,E=a.errorMessage,v=a.isLoading,g=a.searchMovies;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"gradient"}),r.a.createElement("div",{className:"title"},r.a.createElement("span",null,"lee pureum"),r.a.createElement("h1",null,c)),r.a.createElement(S,{search:function(e){m(e),i({type:"MOVIES_REQUEST"}),fetch("https://yts.mx/api/v2/list_movies.json?sort_by=like_count&limit=10&query_term=".concat(e)).then((function(e){return e.json()})).then((function(e){i(e?{type:"MOVIE_SEARCH_SUCCESS",payload:e.data.movies}:{type:"MOVIE_SEARCH_FAILURE",error:e.Error})}))}})),v&&!E?r.a.createElement(N,null):E?r.a.createElement("div",{className:"errorMessage"},E):void 0===g?r.a.createElement("div",{className:"errorMessage"},"Oh my God No Result"):g.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"movies_wrap"},r.a.createElement(f,{title:"Search Movies",itemList:g}))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"movies_wrap"},r.a.createElement(f,{title:"Top Movies",itemList:o}),r.a.createElement(f,{title:"Recent Movies",itemList:u}))))},L=(a(40),a(23)),C=a.n(L),I=a(12),R=a(24);function k(e){var t=e.background,a=e.poster,n=e.title,i=e.year,s=e.genres,l=void 0===s?[]:s,c=e.summary,m=e.rating,o=e.runtime,E=e.language,d=e.casts,v=void 0===d?[]:d,g=e.suggestMovie;return r.a.createElement("div",{className:"movie_detail"},r.a.createElement("div",{className:"movie_background"},r.a.createElement("img",{src:t,alt:"title"}),r.a.createElement("div",{className:"gradient"}),r.a.createElement(u.b,{to:"/",className:"home_link"},r.a.createElement("img",{src:C.a,alt:"home"}))),r.a.createElement("div",{className:"movie_container"},r.a.createElement("div",{className:"movie_poster"},r.a.createElement("img",{src:a,alt:"title"})),r.a.createElement("div",{className:"movie_text"},r.a.createElement("h3",{className:"title"},n),r.a.createElement("ul",{className:"genres"},l.slice(0,3).map((function(e,t){return r.a.createElement("li",{key:t},e)}))),r.a.createElement("ul",{className:"info"},r.a.createElement("li",null,r.a.createElement("span",{className:"icon"},r.a.createElement(I.b,null)),o,"min"),r.a.createElement("li",null,r.a.createElement("span",{className:"icon"},r.a.createElement(I.c,null)),i),r.a.createElement("li",{className:"lang"},r.a.createElement("span",{className:"icon"},r.a.createElement(I.a,null)),E)),r.a.createElement("p",{className:"desc"},c),r.a.createElement("dl",{className:"rating"},r.a.createElement("dt",null,r.a.createElement(R.a,null)),r.a.createElement("dd",null," \xa0",m)),r.a.createElement("ul",{className:"cast"},v.slice(0,3).map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement("img",{src:e.url_small_image,alt:e.name}),r.a.createElement("span",{className:"character_name"},e.character_name),r.a.createElement("span",{className:"name"},e.name))})))),r.a.createElement("div",{className:"movie_etc"},r.a.createElement("div",{className:"movie_suggest"},r.a.createElement("h2",null,"More Like this"),r.a.createElement("ul",null,g.map((function(e,t){var a=e.title.replace(/ /gi,"");return r.a.createElement("li",{key:t},r.a.createElement(u.b,{to:{pathname:"/movie-detail/".concat(a),state:{id:e.id,title:e.title}}},r.a.createElement("div",{className:"suggest_poster"},r.a.createElement("img",{src:e.medium_cover_image,alt:e.title})),r.a.createElement("div",{className:"suggest_text"},r.a.createElement("span",{className:"title"},e.title),r.a.createElement("span",{className:"rating"},e.rating))))})))),r.a.createElement("div",{className:""}))))}k.prototype={id:p.a.number.isRequired,title:p.a.string.isRequired,poster:p.a.string.isRequired,genres:p.a.array.isRequired};var U=k,V={isLoading:!0,movie:[],suggestMovie:[],errorMessage:null},T=function(e,t){switch(t.type){case"DETAIL_MOVIES_REQUEST":return Object(v.a)(Object(v.a)({},e),{},{isLoading:!0,errorMessage:null});case"DETAIL_MOVIES_SUCCESS":return Object(v.a)(Object(v.a)({},e),{},{isLoading:!1,movie:t.payload});case"DETAIL_MOVIES_SUGGEST_SUCCESS":return Object(v.a)(Object(v.a)({},e),{},{isLoading:!1,suggestMovie:t.payload});case"DETAIL_MOVIES_FAILURE":return Object(v.a)(Object(v.a)({},e),{},{isLoading:!1,errorMessage:t.error});default:return e}},x=function(e){var t=Object(n.useReducer)(T,V),a=Object(d.a)(t,2),i=a[0],s=a[1];Object(n.useEffect)((function(){var t=e.location,a=e.history;void 0===t.state?a.push("/"):(fetch("https://yts.mx/api/v2/movie_details.json?movie_id=".concat(t.state.id,"&with_images=true&with_cast=true")).then((function(e){return e.json()})).then((function(e){s({type:"DETAIL_MOVIES_SUCCESS",payload:e.data.movie})})),fetch("https://yts.mx/api/v2/movie_suggestions.json?movie_id=".concat(t.state.id)).then((function(e){return e.json()})).then((function(e){s({type:"DETAIL_MOVIES_SUGGEST_SUCCESS",payload:e.data.movies})})))}),[e.match.params.name]);var l=i.movie,c=i.errorMessage,m=i.isLoading,o=i.suggestMovie;return r.a.createElement("div",{className:"movie_detail_wrap"},m&&!c?r.a.createElement(N,null):c?r.a.createElement("div",{className:"errorMessage"},c):r.a.createElement(U,{key:l.id,title:l.title,background:l.large_screenshot_image2,poster:l.large_cover_image,year:l.year,genres:l.genres,summary:l.description_full,rating:l.rating,runtime:l.runtime,language:l.language,casts:l.cast,suggestMovie:o}))},A=function(e){Object(m.a)(a,e);var t=Object(o.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(u.a,null,r.a.createElement(E.a,{path:"/",exact:!0,component:j}),r.a.createElement(E.a,{path:"/movie-detail/:name",component:x}))}}]),a}(r.a.Component);s.a.render(r.a.createElement(A,null),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.a37010bc.chunk.js.map