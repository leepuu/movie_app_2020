(this.webpackJsonpmovie_app_2020=this.webpackJsonpmovie_app_2020||[]).push([[0],{20:function(e,t,a){e.exports=a.p+"static/media/search.3c0b25ab.svg"},23:function(e,t,a){e.exports=a(37)},28:function(e,t,a){},31:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(16),s=a.n(i),c=a(17),l=a(18),o=a(22),m=a(21),u=a(10),E=a(1),d=(a(28),a(8)),v=a(3),p=a(4),_=a.n(p);a(31);function g(e){var t=e.id,a=e.title,r=e.poster,i=(e.genres,e.year);return n.a.createElement(u.b,{to:{pathname:"/movie-detail",state:{id:t,title:a}},className:"movie_item"},n.a.createElement("div",{className:"movie_poster"},n.a.createElement("img",{src:r,alt:a,title:a})),n.a.createElement("h3",{className:"movie_title"},a),n.a.createElement("p",{className:"movie_year"},i))}g.prototype={id:_.a.number.isRequired,title:_.a.string.isRequired,poster:_.a.string.isRequired,genres:_.a.array.isRequired};var f=g;var h=function(e){var t=e.itemList,a=e.title;return n.a.createElement("div",{className:"movies"},n.a.createElement("h2",{className:"title"},n.a.createElement("span",null,a)),n.a.createElement("div",{className:"movie_list"},t.map((function(e){return n.a.createElement(f,{key:e.id,id:e.id,title:e.title,genres:e.genres,poster:e.large_cover_image,year:e.year})}))))},y=a(20),b=a.n(y),O=function(e){var t=Object(r.useState)(""),a=Object(d.a)(t,2),i=a[0],s=a[1];return n.a.createElement("form",{className:"search"},n.a.createElement("input",{value:i,onChange:function(e){s(e.target.value)},type:"text"}),n.a.createElement("button",{onClick:function(t){t.preventDefault(),""===i?alert("\uac80\uc0c9\uc5b4\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694."):e.search(i),s("")},type:"submit"},n.a.createElement("img",{src:b.a})))};var M=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"loader"},n.a.createElement("div",{class:"loader-inner ball-spin-fade-loader"},n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null))))},S=(a(35),{isLoading:!0,likeMovies:[],recentMovies:[],searchMovies:[],errorMessage:null}),j=function(e,t){switch(t.type){case"MOVIES_REQUEST":return Object(v.a)(Object(v.a)({},e),{},{isLoading:!0,errorMessage:null});case"MOVIE_LIKE_SUCCESS":return Object(v.a)(Object(v.a)({},e),{},{isLoading:!1,likeMovies:t.payload});case"MOVIE_RECENT_SUCCESS":return Object(v.a)(Object(v.a)({},e),{},{isLoading:!1,recentMovies:t.payload});case"MOVIE_FAILURE":return Object(v.a)(Object(v.a)({},e),{},{isLoading:!1,errorMessage:t.error});case"MOVIE_SEARCH_SUCCESS":return Object(v.a)(Object(v.a)({},e),{},{isLoading:!1,searchMovies:t.payload});default:return e}},N=function(){var e=Object(r.useReducer)(j,S),t=Object(d.a)(e,2),a=t[0],i=t[1],s=Object(r.useState)("Movie List"),c=Object(d.a)(s,2),l=c[0],o=c[1];Object(r.useEffect)((function(){fetch("https://yts.mx/api/v2/list_movies.json?sort_by=like_count&limit=10&with_rt_ratings=true").then((function(e){return e.json()})).then((function(e){i({type:"MOVIE_LIKE_SUCCESS",payload:e.data.movies})})),fetch("https://yts.mx/api/v2/list_movies.json?sort_by=year&limit=10&with_rt_ratings=true").then((function(e){return e.json()})).then((function(e){i({type:"MOVIE_RECENT_SUCCESS",payload:e.data.movies})}))}),[]);var m=a.likeMovies,u=a.recentMovies,E=a.errorMessage,v=a.isLoading,p=a.searchMovies;return n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"header"},n.a.createElement("div",{className:"gradient"}),n.a.createElement("div",{className:"title"},n.a.createElement("span",null,"lee pureum"),n.a.createElement("h1",null,l)),n.a.createElement(O,{search:function(e){o(e),i({type:"MOVIES_REQUEST"}),fetch("https://yts.mx/api/v2/list_movies.json?sort_by=like_count&limit=10&query_term=".concat(e)).then((function(e){return e.json()})).then((function(e){i(e?{type:"MOVIE_SEARCH_SUCCESS",payload:e.data.movies}:{type:"MOVIE_SEARCH_FAILURE",error:e.Error})}))}})),v&&!E?n.a.createElement(M,null):E?n.a.createElement("div",{className:"errorMessage"},E):void 0===p?n.a.createElement("div",{className:"errorMessage"},"\uac80\uc0c9\uacb0\uacfc\uc5c6\uc74c"):p.length>0?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"movies_wrap"},n.a.createElement(h,{title:"Search Movies",itemList:p}))):n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"movies_wrap"},n.a.createElement(h,{title:"Top Movies",itemList:m}),n.a.createElement(h,{title:"Recent Movies",itemList:u}))))};a(36);function L(e){var t=e.background,a=e.poster,r=e.title,i=e.year,s=e.genres,c=void 0===s?[]:s,l=e.summary,o=e.rating;return n.a.createElement("div",{className:"movie_detail"},n.a.createElement("div",{className:"movie_background"},n.a.createElement("img",{src:t,alt:"title"}),n.a.createElement("div",{className:"gradient"})),n.a.createElement("div",{className:"movie_container"},n.a.createElement("div",{className:"movie_text"},n.a.createElement("h3",{className:"title"},r,n.a.createElement("span",{className:"year"},"(",i,")")),n.a.createElement("ul",{className:"genres"},c.slice(0,2).map((function(e){return n.a.createElement("li",null,e)}))),n.a.createElement("p",{class:"desc"},l),n.a.createElement("dl",{className:"rating"},n.a.createElement("dt",null,"Metascore : "),n.a.createElement("dd",null," \xa0",o))),n.a.createElement("div",{className:"movie_poster"},n.a.createElement("img",{src:a,alt:"title"}))))}L.prototype={id:_.a.number.isRequired,title:_.a.string.isRequired,poster:_.a.string.isRequired,genres:_.a.array.isRequired};var C=L,I={isLoading:!0,movie:[],errorMessage:null},R=function(e,t){switch(t.type){case"DETAIL_MOVIES_REQUEST":return Object(v.a)(Object(v.a)({},e),{},{isLoading:!0,errorMessage:null});case"DETAIL_MOVIES_SUCCESS":return Object(v.a)(Object(v.a)({},e),{},{isLoading:!1,movie:t.payload});case"DETAIL_MOVIES_FAILURE":return Object(v.a)(Object(v.a)({},e),{},{isLoading:!1,errorMessage:t.error});default:return e}},k=function(e){var t=Object(r.useReducer)(R,I),a=Object(d.a)(t,2),i=a[0],s=a[1];Object(r.useEffect)((function(){var t=e.location,a=e.history;void 0===t.state?a.push("/"):fetch("https://yts.mx/api/v2/movie_details.json?movie_id=".concat(t.state.id,"&with_images=true&with_cast=true")).then((function(e){return e.json()})).then((function(e){s({type:"DETAIL_MOVIES_SUCCESS",payload:e.data.movie})}))}));var c=i.movie,l=i.errorMessage,o=i.isLoading;return n.a.createElement("div",{className:"movie_detail_wrap"},o&&!l?n.a.createElement(M,null):l?n.a.createElement("div",{className:"errorMessage"},l):n.a.createElement(C,{key:c.id,title:c.title,background:c.large_screenshot_image2,poster:c.large_cover_image,year:c.year,genres:c.genres,summary:c.description_full,rating:c.rating}))},U=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return n.a.createElement(u.a,null,n.a.createElement(E.a,{path:"/",exact:!0,component:N}),n.a.createElement(E.a,{path:"/movie-detail",component:k}))}}]),a}(n.a.Component);s.a.render(n.a.createElement(U,null),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.084b4598.chunk.js.map